{"version":3,"file":"filter.min.js","sources":["../src/filter.js"],"sourcesContent":["import $ from 'jquery';\nimport Ajax from 'core/ajax';\n/**\n * Homework/amd/src/filter.js\n *\n * @package\n * @copyright 2024, cs-24-sw-5-13 <cs-24-sw-5-13@student.aau.dk>\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n *\n */\n\nexport const init = async() => {\n    let courses;\n    Ajax.call([{\n        methodname: 'block_homework_get_courses',\n        args: {},\n        done: async function(response) {\n            courses = JSON.parse(response.courses);\n            for (const course in courses) {\n                $('#filter').append('<option value=\"' + courses[course].fullname + '\">' + courses[course].fullname + '</option>');\n            }\n        },\n        fail: (error) => {\n            throw new Error(`Failed to find courses: ${error}`);\n        }\n    }]);\n    $('#filter').on('change', () => {\n        Ajax.call([{\n            methodname: 'block_homework_filter_homework',\n            args: {filter: $('#filter').val()},\n            done: async function(response) {\n                let homeworks = JSON.parse(response.homework);\n                document.getElementById(\"outer-box\").innerHTML = \"\";\n                homeworks.forEach((homework) => {\n                    let box = document.createElement(\"div\");\n                    box.classList.add(\"infobox\");\n\n                    let h22 = document.createElement(\"h2\");\n                    h22.innerHTML = `${homework.course}`;\n                    box.appendChild(h22);\n\n                    let h2 = document.createElement(\"h2\");\n                    h2.innerHTML = `${homework.name}`;\n                    box.appendChild(h2);\n\n                    let h3 = document.createElement(\"h3\");\n                    h3.innerHTML = homework.duedate;\n                    box.appendChild(h3);\n\n                    let p = document.createElement(\"p\");\n                    p.innerHTML = `${homework.intro}`;\n                    box.appendChild(p);\n\n                    let button = document.createElement(\"button\");\n                    button.classList.add(\"Timebutton\");\n                    button.innerHTML = \"Time\";\n                    box.appendChild(button);\n\n                    document.getElementById(\"outer-box\").appendChild(box);\n                });\n            },\n            fail: (error) => {\n                console.log(error);\n                throw new Error(`Failed to find filtered homework: ${error}`);\n            }\n        }]);\n    });\n};\n"],"names":["_interopRequireDefault","e","__esModule","default","_jquery","_ajax","_exports","init","async","courses","Ajax","call","methodname","args","done","response","JSON","parse","course","$","append","fullname","fail","error","Error","on","filter","val","homeworks","homework","document","getElementById","innerHTML","forEach","box","createElement","classList","add","h22","appendChild","h2","name","h3","duedate","p","intro","button","console","log"],"mappings":"kGAC6B,SAAAA,uBAAAC,GAAAA,OAAAA,GAAAA,EAAAC,WAAAD,EAAAE,CAAAA,QAAAF,EAAA;;;;;;;;kFAD7BG,QAAAJ,uBAAAI,SACAC,MAAAL,uBAAAK,OAkEEC,SAAAC,KAxDkBC,UAChB,IAAIC,QACJC,MAAIP,QAACQ,KAAK,CAAC,CACPC,WAAY,6BACZC,KAAM,CAAE,EACRC,KAAMN,eAAeO,UACjBN,QAAUO,KAAKC,MAAMF,SAASN,SAC9B,IAAK,MAAMS,UAAUT,SACjB,EAAAU,QAAAA,SAAE,WAAWC,OAAO,kBAAoBX,QAAQS,QAAQG,SAAW,KAAOZ,QAAQS,QAAQG,SAAW,YAE5G,EACDC,KAAOC,QACH,MAAM,IAAIC,MAAM,2BAA2BD,QAAQ,MAG3D,EAAAJ,QAAAA,SAAE,WAAWM,GAAG,UAAU,KACtBf,MAAIP,QAACQ,KAAK,CAAC,CACPC,WAAY,iCACZC,KAAM,CAACa,QAAQ,EAAAP,QAAChB,SAAC,WAAWwB,OAC5Bb,KAAMN,eAAeO,UACjB,IAAIa,UAAYZ,KAAKC,MAAMF,SAASc,UACpCC,SAASC,eAAe,aAAaC,UAAY,GACjDJ,UAAUK,SAASJ,WACf,IAAIK,IAAMJ,SAASK,cAAc,OACjCD,IAAIE,UAAUC,IAAI,WAElB,IAAIC,IAAMR,SAASK,cAAc,MACjCG,IAAIN,UAAY,GAAGH,SAASX,SAC5BgB,IAAIK,YAAYD,KAEhB,IAAIE,GAAKV,SAASK,cAAc,MAChCK,GAAGR,UAAY,GAAGH,SAASY,OAC3BP,IAAIK,YAAYC,IAEhB,IAAIE,GAAKZ,SAASK,cAAc,MAChCO,GAAGV,UAAYH,SAASc,QACxBT,IAAIK,YAAYG,IAEhB,IAAIE,EAAId,SAASK,cAAc,KAC/BS,EAAEZ,UAAY,GAAGH,SAASgB,QAC1BX,IAAIK,YAAYK,GAEhB,IAAIE,OAAShB,SAASK,cAAc,UACpCW,OAAOV,UAAUC,IAAI,cACrBS,OAAOd,UAAY,OACnBE,IAAIK,YAAYO,QAEhBhB,SAASC,eAAe,aAAaQ,YAAYL,IAAI,GAE5D,EACDZ,KAAOC,QAEH,MADAwB,QAAQC,IAAIzB,OACN,IAAIC,MAAM,qCAAqCD,QAAQ,IAElE,GACL,CACJ"}